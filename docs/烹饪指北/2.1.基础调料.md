# 基础调料

在这部分内容，会将多个项目通用的配置抽象出来成为一个子包：（按照顺序一一定义）

- tsconfig
- lint-config
  - eslint-config
  - prettier-config
  - commitlint-config
  - stylelint-config
- tailwind-config
- vite-config

它们的统一命名格式为：`@o-oyic/xxx`

> 其中的tailwind和vite的配置，我先定义好了放在这里，等到需要这些内容的子包开始了之后，才到这里做配置。

## tsconfig

tsconfig由一堆json文件组成，不需要打包构建，直接在`package.json`中定义导出文件的列表即可：

```json
{
  "name": "@o-oyic/tsconfig",
  "version": "1.0.0",
  "private": true,
  "type": "module",
  "license": "MIT",
  "homepage": "https://github.com/o-oyic/o-oyic-mo",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/o-oyic/o-oyic-mo.git",
    "directory": "internal/tsconfig"
  },
  "files": [
    "base.json",
    "lib.json",
    "node.json",
    "web-app.json",
    "web.json"
  ],
  "dependencies": {
    "vite": "catalog:"
  }
}
```

### base.json

基础配置：

```json
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "compilerOptions": {
    "composite": false,
    "target": "ESNext",

    "moduleDetection": "force",
    "experimentalDecorators": true,

    "baseUrl": ".",
    "module": "ESNext",

    "moduleResolution": "node",
    "resolveJsonModule": true,

    "strict": true,
    "strictNullChecks": true,
    "noFallthroughCasesInSwitch": true,
    "noImplicitAny": true,
    "noImplicitOverride": true,
    "noImplicitThis": true,
    "noUncheckedIndexedAccess": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,

    "inlineSources": false,
    "noEmit": true,
    "removeComments": true,
    "sourceMap": false,
    "allowSyntheticDefaultImports": true,
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "isolatedModules": true,
    "verbatimModuleSyntax": true,
    "skipLibCheck": true,
    "preserveWatchOutput": true
  },
  "exclude": ["**/node_modules/**", "**/dist/**"]
}
```

### lib.json

工具库的配置文件

```json
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "extends": "./base.json",
  "compilerOptions": {
    "jsx": "preserve",
    "lib": ["ESNext", "DOM", "DOM.Iterable"],
    "useDefineForClassFields": true,
    "moduleResolution": "bundler",
    "declaration": true,
    "noEmit": false
  }
}
```

### node.json

node的配置，适用于脚手架、插件库的配置

```json
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "extends": "./base.json",
  "compilerOptions": {
    "composite": false,
    "lib": ["ESNext"],
    "baseUrl": "./",
    "types": ["node"],
    "noImplicitAny": true
  }
}
```

### web.json

web应用的配置，适合apps的内容

```json
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "extends": "./base.json",
  "compilerOptions": {
    "jsx": "preserve",
    "jsxImportSource": "vue",
    "lib": ["ESNext", "DOM", "DOM.Iterable"],
    "useDefineForClassFields": true,
    "moduleResolution": "bundler",
    "types": ["vite/client"],
    "declaration": false
  }
}
```

### web-app.json

适合web的app端内容

```json
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "extends": "./web.json",
  "compilerOptions": {
    "types": ["vite/client"]
  }
}
```

## lint-config

lint项目是多个配置的集合，包含了：

- eslint
- prettier
- stylelint
- commitlint

### eslint

==TODO==
