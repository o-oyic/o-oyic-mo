# 食材

作为本项目`monorepo`的食用指北的开篇文章，会在这里梳理整个项目的架构组成

## 架构

本项目`o-oyic`的架构组成如下：

- monorepo仓库：o-oyic-mo 包含以下基建支持内容：
  - UI 库
  - 工具库
  - 埋点SDK
  - indexDB插件
  - 各种lint、config配置
  - 鉴权服务
  - 接口响应ts类型生成插件
- web-app：
  - 微前端模板
  - 老到掉牙的网易云音乐系统
  - 监控系统
  - 大屏可视化编辑器，对标（抄袭）goview
  - 数据库可视化管理系统
  - 同样也是远古选手，TODO list
  - 协同文档，抄袭飞书文档
  - 消息系统，主要练习即使通信和消息推送
  - 工作/审批流系统
- server：
  - 各种web-app的服务端
  - ...

> 本项目会不定时断更，因为能力越小，责任越小。一个人做不了这么多东西，上面的内容纯属个人发癫臆想的内容，仅供参考

monorepo的内容多数为基建支持，其中的`UI、utils、indexDB、埋点SDK`内容同步发布到`npm`上。命名格式就暂定为：`@oyic/xxx`（因为我在`npm`上创建了这么一个命名空间）

## 不同形态项目构建方案选择

以下从多个形态不同的前端（狗都能写的）、后端（高大上、闪闪发亮、人类之光）分析，选择适合的项目构建方案

### 组件库

组件库是面相`UI`的开发库，通常是以`React、Vue、Angular、‌Svelte‌、Flutter‌`等`UI`框架为基础，提供`UI`组件、样式、主题等。它的特点是包含多个独立模块，需要依赖框架环境，并需要支持按需加载的场景。

- 涉及样式
- 需要按需加载
- 依赖框架环境
- 提供类型声明

这一类的项目，更倾向于选择`rollup、unbuild、vite`构建工具，其中这三个工具中，我会选择用`unbuild`，因为它是以`rollup`为支持的，同时它支持`rollup`的配置，以及`rollup`的生态插件，配置也更加简单，更加容易上手。

简单来说，`rollup`和`unbuild`是一类的，之后出现的`unbuild`就等同于它俩

### 工具库

这类的工具库，通常以`TS、JS`为语言，写一些函数库、脚手架等，它的特点是包含多个独立模块，需要支持`ESM、CJS`两种模块格式，需要支持`TS、JS`两种语言，需要支持`TS`类型声明。

ok啊，简单的项目，直接无脑all in `unbuild`，下一个。

### 单页应用、业务系统

这类项目常规的选择有`vite、webpack`，目前主流是`vite`

### 终极大招

想要构建的过程又快又猛啊，在`unbuild + vite`的组合拳下，`monorepo`仓库选`turbo`，会让你的构建速度快到只有3秒。
